<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>D·ª± b√°o bit 0-1</title>

<style>
/* ===== RESET NH·∫∏ ===== */
* {
    box-sizing: border-box;
}

body {
    font-family: Consolas, monospace;
    background: radial-gradient(circle at top, #0f172a, #020617);
    color: #e5e7eb;

    display: flex;
    justify-content: center;
    align-items: flex-start;

    min-height: 100vh;
    margin: 0;
    padding: 30px 20px;
}

/* ===== CONTAINER ===== */
.container {
    background: #0f172a;
    padding: 40px;
    border-radius: 18px;

    border: 1px solid #1e293b;
    box-shadow:
        0 0 40px rgba(0,0,0,0.6),
        inset 0 0 20px rgba(255,255,255,0.02);

    min-width: 650px;
    text-align: center;
}

/* ===== TI√äU ƒê·ªÄ ===== */
h3 {
    margin: 6px 0;
    font-weight: 500;
    color: #94a3b8;
}

/* ===== INPUT KHU V·ª∞C BIT ===== */
#inputs {
    display: flex;
    gap: 10px;
    margin: 20px 0;
    justify-content: center;
    flex-wrap: wrap;
}

/* ===== √î BIT ===== */
input.bit {
    width: 52px;
    height: 60px;

    text-align: center;
    font-size: 26px;
    font-weight: bold;

    background: #020617;
    color: #22c55e;

    border: 2px solid #334155;
    border-radius: 10px;

    outline: none;
    transition: all 0.2s ease;
}

input.bit:focus {
    border-color: #22c55e;
    box-shadow: 0 0 0 3px rgba(34,197,94,0.25);
}

/* ===== INPUT NUMBER ===== */
#boxCount {
    width: 90px;
    padding: 8px;

    font-size: 16px;
    text-align: center;

    background: #020617;
    color: #e5e7eb;

    border: 2px solid #334155;
    border-radius: 8px;

    outline: none;
    transition: 0.2s ease;
}

#boxCount:focus {
    border-color: #22c55e;
    box-shadow: 0 0 0 2px rgba(34,197,94,0.3);
}

/* ·∫®n m≈©i t√™n number */
#boxCount::-webkit-outer-spin-button,
#boxCount::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

#boxCount {
    -moz-appearance: textfield;
}

/* ===== BUTTON ===== */
button {
    display: inline-block;
    padding: 12px 22px;

    background: linear-gradient(135deg, #16a34a, #15803d);
    color: white;

    border: 1px solid #22c55e;
    border-radius: 10px;

    font-size: 16px;
    font-weight: 600;

    cursor: pointer;
    transition: all 0.2s ease;

    margin: 10px 6px;
    box-shadow: 0 5px 15px rgba(34,197,94,0.25);
}

button:hover {
    transform: translateY(-2px);
    background: linear-gradient(135deg, #22c55e, #16a34a);
    box-shadow: 0 8px 22px rgba(34,197,94,0.35);
}

button:active {
    transform: scale(0.96);
}

/* ===== RESULT ===== */
#result {
    margin: 15px auto;   /* auto ƒë·ªÉ cƒÉn gi·ªØa */
    width: 60%;          /* r·ªông 40% */

    font-size: 24px;
    font-weight: bold;

    color: #22c55e;

    background: linear-gradient(135deg, #0f172a, #1e293b);
    padding: 18px 28px;

    border-radius: 14px;
    border: 1px solid #334155;

    box-shadow:
        0 0 12px rgba(34,197,94,0.4),
        0 0 25px rgba(34,197,94,0.2),
        inset 0 0 10px rgba(34,197,94,0.08);

    transition: all 0.3s ease;
}

#result.active {
    animation: glow 0.5s ease;
}

@keyframes glow {
    0% {
        transform: scale(0.95);
        opacity: 0;
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}



#resultBoxes {
    display: flex;
    gap: 10px;
    justify-content: center;
    margin-top: 20px;
}

.result-bit {
    width: 52px;
    height: 60px;

    text-align: center;
    font-size: 26px;
    font-weight: bold;

    background: #111827;
    color: #facc15;

    border: 2px solid #334155;
    border-radius: 10px;

    display: flex;
    align-items: center;
    justify-content: center;

    box-shadow: 0 0 12px rgba(250,204,21,0.3);
}




</style>
</head>

<body>

<div class="container">
   
   
    <h3>Nh·∫≠p 15 bit (0 / 1)</h3>
    
    

  <div>
    S·ªë √¥ hi·ªÉn th·ªã:
    <input type="number" id="boxCount" value="15" min="1">
    <button id="applyBtn">√Åp d·ª•ng</button>
</div>

<div id="inputs" style="margin-top:20px;"></div>
<div id="result"></div>
<div id="resultBoxes"></div>



<script>
const inputsDiv = document.getElementById("inputs");
const applyBtn = document.getElementById("applyBtn");

let displayCount = 15;
let inputCount = 0;
let totalEntered = 0;


applyBtn.addEventListener("click", init);

function init(){
    

    const value = parseInt(document.getElementById("boxCount").value);
    totalEntered = 0;
    if(isNaN(value) || value <= 0){
        alert("S·ªë √¥ kh√¥ng h·ª£p l·ªá");
        return;
    }

    displayCount = value;
    inputCount = 0;
    inputsDiv.innerHTML = "";

    // container d·∫°ng grid 5 c·ªôt
    inputsDiv.style.display = "grid";
    inputsDiv.style.gridTemplateColumns = "repeat(5, auto)";
    inputsDiv.style.gap = "15px";
    inputsDiv.style.justifyContent = "center";

    for(let i=0;i<displayCount;i++){

        const column = document.createElement("div");
       
column.className = "bit-column";   // üëà th√™m d√≤ng n√†y

        column.style.display = "flex";
        column.style.flexDirection = "column";
        column.style.alignItems = "center";

        const label = document.createElement("div");
        label.textContent = i + 1;
        label.style.marginBottom = "6px";
        label.style.fontSize = "14px";
        label.style.color = "#94a3b8";

        const inp = document.createElement("input");
        inp.className = "bit";
        inp.readOnly = true;

        column.appendChild(label);
        column.appendChild(inp);
        inputsDiv.appendChild(column);
    }

    // √¥ nh·∫≠p ri√™ng (n·∫±m d∆∞·ªõi grid)
    const inputBox = document.createElement("input");
    inputBox.className = "bit";
    inputBox.style.gridColumn = "span 5";  // chi·∫øm c·∫£ 1 h√†ng
    inputBox.style.marginTop = "15px";
    inputBox.style.justifySelf = "center";

    inputBox.addEventListener("input", function(){

        const v = this.value;

        if(v !== "0" && v !== "1"){
            this.value = "";
            return;
        }


         totalEntered++;   // üëà th√™m d√≤ng n√†y
        const inputs = inputsDiv.querySelectorAll("input.bit[readonly]");

        if(inputCount < displayCount){
            inputs[inputCount].value = v;
            inputCount++;
            updateLabels();

            if(inputCount === displayCount){
                generateMaskAndResult();
            }
        }else{
            shiftLeft(v);
            updateLabels();   // üëà c·∫≠p nh·∫≠t label
            generateMaskAndResult();
        }

        this.value = "";
    });

    inputsDiv.appendChild(inputBox);
    inputBox.focus();
}









function shiftLeft(newBit){

    const inputs = inputsDiv.querySelectorAll("input.bit[readonly]");

    for(let i=0;i<displayCount-1;i++){
        inputs[i].value = inputs[i+1].value;
    }

    inputs[displayCount-1].value = newBit;
}





function generateMaskAndResult(){

    if(displayCount < 15){
        alert("C·∫ßn √≠t nh·∫•t 15 √¥ ƒë·ªÉ so s√°nh");
        return;
    }

    const inputs = inputsDiv.querySelectorAll("input.bit[readonly]");

    let A = [];
    let B = [];
    let C = [];

    for(let i=0;i<5;i++){
        A.push(parseInt(inputs[i].value) || 0);
        B.push(parseInt(inputs[i+5].value) || 0);
        C.push(parseInt(inputs[i+10].value) || 0);
    }







    let mask = [];
    let result = [];

    for(let i=0;i<5;i++){
        // t·∫°o mask XOR
        mask[i] = A[i] ^ C[i];

        // √°p mask l√™n B
        result[i] = B[i] ^ mask[i];
    }

    showResult(mask, result);
    
    
    
    
    
    
} // d·∫•u ngo·∫∑c k·∫øt th√∫c h√†m generate







function showResult(mask, result){

    const maskDiv = document.getElementById("result");
    const resultDiv = document.getElementById("resultBoxes");

    // hi·ªÉn th·ªã mask d·∫°ng chu·ªói nh∆∞ tr∆∞·ªõc
    maskDiv.textContent = "Mask: " + mask.join(" ");

    // hi·ªÉn th·ªã result v√†o 5 √¥
    resultDiv.innerHTML = "";

    for(let i=0;i<5;i++){
        const box = document.createElement("div");
        box.className = "result-bit";
        box.textContent = result[i];
        resultDiv.appendChild(box);
    }
}




function updateLabels(){

    const columns = inputsDiv.querySelectorAll(".bit-column");

    const start = Math.max(1, totalEntered - displayCount + 1);

    columns.forEach((col, index) => {
        const label = col.querySelector("div");
        label.textContent = start + index;
    });
}



// kh·ªüi t·∫°o m·∫∑c ƒë·ªãnh khi load
window.addEventListener("load", init);
</script>
</body>
</html>











